webpackJsonp([15],{1011:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"tableWrap",staticClass:"big-table-wrap"},[a("div",{ref:"searchWrap",staticClass:"search-wrap"},[a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{span:"6"}},[a("div",{staticClass:"input-item"},[a("span",{staticClass:"input-label"},[t._v("角色ID：")]),t._v(" "),a("Input",{staticClass:"input-width",attrs:{placeholder:"账户1ID"},model:{value:t.actorID,callback:function(e){t.actorID=e},expression:"actorID"}})],1)]),t._v(" "),a("Col",{attrs:{span:"6"}},[a("div",{staticClass:"input-item"},[a("span",{staticClass:"input-label"},[t._v(" 角色名称：")]),t._v(" "),a("Input",{staticClass:"input-width",attrs:{placeholder:"角色名称"},model:{value:t.actorName,callback:function(e){t.actorName=e},expression:"actorName"}})],1)]),t._v(" "),a("Col",{attrs:{span:"6"}},[a("div",{staticClass:"input-item"},[a("span",{staticClass:"input-label"},[t._v(" 权限设置：")]),t._v(" "),a("Input",{staticClass:"input-width",attrs:{placeholder:"权限设置"},model:{value:t.permissionSetting,callback:function(e){t.permissionSetting=e},expression:"permissionSetting"}})],1)]),t._v(" "),a("Col",{attrs:{span:"6"}},[a("div",{staticClass:"input-item"},[a("span",{staticClass:"input-label"},[t._v("创建时间：")]),t._v(" "),a("DatePicker",{staticClass:"input-width",attrs:{type:"daterange",placement:"bottom-end",placeholder:"创建时间"},on:{"on-change":t.getCreatTime}})],1)])],1),t._v(" "),a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{span:"6"}},[a("div",{staticClass:"input-item"},[a("span",{staticClass:"input-label"},[t._v("更新时间：")]),t._v(" "),a("DatePicker",{staticClass:"input-width",attrs:{type:"daterange",placement:"bottom-start",placeholder:"更新时间"},on:{"on-change":t.getUpdateTime}})],1)]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("div",{staticClass:"input-item"},[a("span",{staticClass:"input-label"},[t._v("状态：")]),t._v(" "),a("i-switch",{staticStyle:{"margin-top":"3px"},attrs:{size:"large"},on:{"on-change":t.getSatue},model:{value:t.statueSwitch,callback:function(e){t.statueSwitch=e},expression:"statueSwitch"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),t._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("禁用")])])],1)]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("div",{staticClass:"input-item"},[a("Button",{attrs:{type:"primary"},on:{click:t.searchInfo}},[t._v("查询")])],1)])],1)],1),t._v(" "),a("div",{ref:"handleWrap",staticClass:"handle-wrap"},[a("div",{staticClass:"handle-btn-wrap"},[a("Button",{attrs:{type:"primary"},on:{click:t.exportInfo}},[t._v("导出")])],1),t._v(" "),a("div",{staticClass:"handle-btn-wrap"},[a("Button",{attrs:{type:"primary"},on:{click:t.addInfoWrapShow}},[t._v("新增")])],1)]),t._v(" "),a("div",{ref:"tableBox",staticClass:"table-wrap-style"},[a("Table",{attrs:{loading:t.loading,height:t.tableHeight,data:t.tableData,columns:t.tableColumns,stripe:"",border:""}})],1),t._v(" "),a("div",{ref:"pageWrap",staticClass:"page-wrap"},[a("div",{staticClass:"right"},[a("Page",{attrs:{total:t.total,current:t.page,"show-total":"","show-sizer":"","page-size-opts":t.pageSizeOpts},on:{"on-change":t.changePage,"on-page-size-change":t.changeSize}})],1)]),t._v(" "),a("Modal",{attrs:{title:"新增信息"},on:{"on-ok":t.addInfoSave},model:{value:t.addWrap,callback:function(e){t.addWrap=e},expression:"addWrap"}},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":80}},[a("Form-item",{attrs:{label:"角色名称",prop:"name"}},[a("Input",{attrs:{placeholder:""},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name",e)},expression:"formValidate.name"}})],1),t._v(" "),a("Form-item",{attrs:{label:"角色描述",prop:"description"}},[a("Input",{attrs:{placeholder:""},model:{value:t.formValidate.description,callback:function(e){t.$set(t.formValidate,"description",e)},expression:"formValidate.description"}})],1),t._v(" "),a("Form-item",{attrs:{label:"是否启用"}},[a("i-switch",{staticStyle:{"margin-top":"3px"},attrs:{value:!0,size:"large"},on:{"on-change":t.getSatueInWrap}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),t._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("禁用")])])],1),t._v(" "),a("Form-item",{attrs:{label:"关联角色"}},[a("Tree",{ref:"tree",attrs:{data:t.treeData,"show-checkbox":"",multiple:""},on:{"on-check-change":t.treeCheckChange}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(e){t.addWrap=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.addLoding},on:{click:t.addInfoSave}},[t._v("确定")])],1)],1),t._v(" "),a("Modal",{attrs:{title:"修改信息"},on:{"on-ok":t.updateInfoSave},model:{value:t.updateWrap,callback:function(e){t.updateWrap=e},expression:"updateWrap"}},[a("Form",{ref:"updateFormValidate",attrs:{model:t.updateFormValidate,rules:t.ruleValidate,"label-width":70}},[a("Form-item",{attrs:{label:"角色名称",prop:"name"}},[a("Input",{attrs:{placeholder:""},model:{value:t.updateFormValidate.name,callback:function(e){t.$set(t.updateFormValidate,"name",e)},expression:"updateFormValidate.name"}})],1),t._v(" "),a("Form-item",{attrs:{label:"是否启用"}},[a("i-switch",{staticStyle:{"margin-top":"3px"},attrs:{size:"large"},on:{"on-change":t.getSatueInUpdateWrap},model:{value:t.updateFormValidate.statue,callback:function(e){t.$set(t.updateFormValidate,"statue",e)},expression:"updateFormValidate.statue"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),t._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[t._v("禁用")])])],1),t._v(" "),a("Form-item",{attrs:{label:"关联角色"}},[a("Tree",{attrs:{data:t.treeData,"show-checkbox":"",multiple:""},on:{"on-check-change":t.treeCheckChange}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(e){t.updateWrap=!1}}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.updateLoading},on:{click:t.updateInfoSave}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]}},396:function(t,e,a){a(982);var i=a(99)(a(932),a(1011),"data-v-4eb70ca5",null);t.exports=i.exports},423:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var i={data:function(){return{pageSizeOpts:[10,30,50,100],tableData:[],total:0,page:1,size:10,tableHeight:200,loading:!0,showMore:!1}},mounted:function(){this.resizeTabeleHeight()},watch:{showMore:function(){this.resizeTabeleHeight()}},methods:{resizeTabeleHeight:function(){this.$nextTick(function(){this.tableHeight=this.$refs.tableBox.clientHeight})},reSearchInfo:function(){this.page=1,this.searchInfo()},changePage:function(t){this.page=t,this.searchInfo()},changeSize:function(t){this.size=t,this.page=1,this.searchInfo()},exportInfo:function(){var t=this;console.log(111),this.$Modal.confirm({title:"提示",content:"确定导出吗？",onOk:function(){t.exportOk()}})}}}},932:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(423);e.default={data:function(){var t=this;return{actorID:"",actorName:"",permissionSetting:"",statueSwitch:!0,creatTime:"",uptateTime:"",addWrap:!1,addLoding:!1,treeData:[{title:"用户管理",expand:!0,selected:!0,children:[{title:"管理员管理",expand:!0,children:[{title:"角色管理",disabled:!0},{title:"管理员用户管理",expand:!0,children:[{title:"新增"},{title:"修改"},{title:"删除"},{title:"导出"}]}]},{title:"统计查询",expand:!0,children:[{title:"积分统计查询",checked:!0,expand:!0,children:[{title:"新增"},{title:"修改"},{title:"删除"},{title:"导出"}]},{title:"积分互换查询"}]}]}],formValidate:{name:"",description:"",statue:!0},updateWrap:!1,updateLoading:!1,updateFormValidate:{name:"",statue:!0},tableData:[{ruleId:"银点acount",ruleName:"银点",creat_time:"2018-2-1",update_time:"2018-2-1",user_power:"power1",isEnable:"是"},{ruleId:"快乐农家acount",ruleName:"快乐农家",creat_time:"2018-2-1",update_time:"2018-2-1",user_power:"power3",isEnable:"否"},{ruleId:"银点acount",ruleName:"银点",creat_time:"2018-2-1",update_time:"2018-2-1",user_power:"power2",isEnable:"是"}],total:0,page:1,tableHeight:200,loading:!1,ruleValidate:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],description:[{required:!0,message:"描述不能为空",trigger:"blur"}]},tableColumns:[{title:"角色ID",key:"ruleId",align:"center"},{title:"角色名称",align:"center",key:"ruleName",width:200},{title:"创建时间",align:"center",key:"creat_time"},{title:"更新时间",align:"center",key:"update_time"},{title:"权限设置",key:"user_power",align:"center"},{title:"是否启用",align:"center",key:"isEnable"},{title:"操作",key:"action",width:250,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(a.index)}}},"查看"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.updateInfo(a)}}},"编辑"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.remove(a.index)}}},"删除")])}}]}},mixins:[i.a],mounted:function(){this.$nextTick(function(){})},methods:{mockTableData:function(){var t=this,e={page:this.page};this.$Loading.start(),this.loading=!0,getUserListPage(e).then(function(e){t.loading=!1,t.$Loading.finish(),t.total=e.data.total,t.tableData=e.data.users})},searchInfo:function(){console.log(this.actorID),console.log(this.actorName),console.log(this.statueSwitch),console.log(this.creatTime)},show:function(t){this.$Modal.info({title:"用户信息",content:"姓名："+this.tableData[t].name+"<br>年龄："+this.tableData[t].age+"<br>地址："+this.tableData[t].addr})},addInfoWrapShow:function(){this.addWrap=!0,this.formValidate={name:"",description:"",statue:!0}},remove:function(t){var e=this;this.$Modal.confirm({title:"用户信息",content:"是否删除此记录",onOk:function(){this.$Loading.start();var a={id:t};removeUser(a).then(function(t){e.mockTableData()})}})},addInfoSave:function(){var t=this;this.addLoding=!0,this.$refs.formValidate.validate(function(e){if(!e)return t.$Message.error("表单验证失败!"),t.addLoding=!1,!1;setTimeout(function(){t.addWrap=!1,t.addLoding=!1,t.$Message.success("提交成功!")},2e3)})},changePage:function(t){this.page=t,this.mockTableData()},getSatue:function(t){this.statueSwitch=t},getCreatTime:function(t){this.creatTime=t},getUpdateTime:function(t){this.uptateTime=t},getSatueInWrap:function(t){this.formValidate.statue=t,console.log(this.formValidate)},treeCheckChange:function(t){console.log(t)},updateInfo:function(t){console.log(t),this.updateWrap=!0,this.updateFormValidate={name:"",statue:!0}},getSatueInUpdateWrap:function(t){this.updateFormValidate.statue=t},updateInfoSave:function(){var t=this;this.updateLoading=!0,this.$refs.updateFormValidate.validate(function(e){if(!e)return t.$Message.error("表单验证失败!"),t.updateLoading=!1,!1;t.updateWrap=!1,t.updateLoading=!1,t.$Message.success("提交成功!")})},exportOk:function(){var t=document.createElement("form");t.enctype="application/x-www-form-urlencoded",t.method="POST",t.action=baseUrl+"/pc/information/exportInfo.do";var e={token:that.token,strApp:that.strApp,strInfoNo:that.strInfoNo,isCash:that.isCash,strContent:that.strContent};for(var a in e){var i=document.createElement("input");i.type="hidden",i.name=a,i.value=e[a],t.appendChild(i)}document.body.appendChild(t),t.submit(),document.body.removeChild(t),t=null},exportInfo:function(){var t=this;this.$Modal.confirm({title:"提示",content:"确定导出吗？",onOk:function(){t.exportOk()}})}}}},956:function(t,e,a){e=t.exports=a(229)(!0),e.i(a(376),""),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"actor.vue",sourceRoot:""}])},982:function(t,e,a){var i=a(956);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(375)("ac49a758",i,!0)}});
//# sourceMappingURL=actor.35e9d6ba4590d998b124.js.map